{"is_source_file": true, "format": "Dart", "description": "This file defines an AuthService class managing user roles within an application, providing role management via a singleton pattern, stream updates, and role enumeration.", "external_files": [], "external_methods": [], "published": ["AppRole", "AuthService"], "classes": [{"name": "AuthService", "description": "A singleton service managing user roles, providing role access, updates through streams, and lifecycle management."}], "methods": [{"name": "AuthService.instance", "description": "Factory constructor returning the singleton instance."}, {"name": "get currentRole", "description": "Getter that retrieves the current user role."}, {"name": "get roleStream", "description": "Returns the stream of role updates."}, {"name": "setRole", "description": "Sets a new role and notifies listeners if the role has changed."}, {"name": "dispose", "description": "Closes the stream controller; used for cleanup in tests or app lifecycle."}], "calls": ["StreamController<AppRole>.broadcast()", "StreamController.add()", "StreamController.close()"], "search-terms": ["AuthService singleton", "role management", "role stream", "enum AppRole", "dart stream controller"], "state": 2, "file_id": 34, "knowledge_revision": 147, "git_revision": "", "revision_history": [{"132": ""}, {"147": ""}], "hash": "4f9b45433cc8a1711280b61d941ad183", "format-version": 4, "code-base-name": "healthy_app_frontend", "filename": "healthy_app_frontend/lib/services/auth_service.dart"}