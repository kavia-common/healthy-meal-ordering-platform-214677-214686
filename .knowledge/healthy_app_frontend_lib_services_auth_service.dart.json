{"is_source_file": true, "format": "Dart", "description": "This file defines an AuthService class responsible for managing user authentication roles within a Flutter application. It handles role state with in-memory storage, persistence through local storage, and exposes streams for role updates.", "external_files": ["package:healthy_app_frontend/services/local_storage.dart"], "external_methods": ["LocalStorage.loadRole", "LocalStorage.saveRole", "LocalStorage.clearRole"], "published": ["AuthService", "AppRole"], "classes": [{"name": "AuthService", "description": "Singleton service managing user roles with persistent and in-memory state, providing stream-based updates."}, {"name": "AppRole", "description": "Enumeration defining user roles: admin, manager, delivery."}], "methods": [{"name": "AuthService.instance", "description": "Factory constructor returning the singleton instance."}, {"name": "AuthService.init", "description": "Initializes the service by loading the role from local storage."}, {"name": "AuthService.setRole", "description": "Updates the current role and persists it."}, {"name": "AuthService.resetRole", "description": "Resets the role to a default and clears persisted data."}, {"name": "AuthService.dispose", "description": "Closes the role stream controller."}, {"name": "AuthService._tryParseRole", "description": "Parses a string to an AppRole enum value."}], "calls": ["LocalStorage.loadRole", "LocalStorage.saveRole", "LocalStorage.clearRole"], "search-terms": ["AuthService singleton", "role management", "local storage role persistence", "StreamController AppRole"], "state": 2, "file_id": 34, "knowledge_revision": 185, "git_revision": "", "revision_history": [{"132": ""}, {"147": ""}, {"181": ""}, {"185": ""}], "hash": "6e62f6a53b607d50120ffdf847f13e45", "format-version": 4, "code-base-name": "healthy_app_frontend", "filename": "healthy_app_frontend/lib/services/auth_service.dart"}