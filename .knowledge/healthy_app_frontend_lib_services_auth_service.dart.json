{"is_source_file": true, "format": "Dart", "description": "This Dart file defines an AuthService class managing user roles within an app, including initializing, setting, and streaming role changes, with persistence through local storage.", "external_files": ["package:healthy_app_frontend/services/local_storage.dart"], "external_methods": ["LocalStorage.loadRole", "LocalStorage.saveRole"], "published": ["AppRole", "AuthService"], "classes": [{"name": "AuthService", "description": "A singleton service managing user role state, persistence, and broadcasting role changes."}], "methods": [{"name": "AuthService.instance", "description": "Factory method returning the singleton instance of AuthService."}, {"name": "AuthService.init", "description": "Initializes the service by loading the role from local storage."}, {"name": "AuthService.setRole", "description": "Sets the current role and broadcasts the change; persists the role."}, {"name": "AuthService.dispose", "description": "Closes the role stream controller."}, {"name": "_tryParseRole", "description": "Converts a string into an AppRole enum value if valid."}], "calls": ["LocalStorage.loadRole", "LocalStorage.saveRole", "_roleController.add"], "search-terms": ["AuthService", "AppRole", "local storage", "role management", "stream controller"], "state": 2, "file_id": 34, "knowledge_revision": 181, "git_revision": "", "revision_history": [{"132": ""}, {"147": ""}, {"181": ""}], "hash": "864255639086eb454ded12a2c8e2d6c2", "format-version": 4, "code-base-name": "healthy_app_frontend", "filename": "healthy_app_frontend/lib/services/auth_service.dart"}